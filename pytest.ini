[pytest]
minversion = 6.0
testpaths = tests
python_files = test_*.py
pythonpath = .
norecursedirs = kokoro

# Default test runner options:
#  - -v                : verbose test output (shows test names)
#  - -r a              : report extra summary for all outcomes (failed/xfail/skipped)
#  - --maxfail=1       : stop after first failure (remove if you prefer full runs)
#  - --showlocals      : include local variables in tracebacks for easier debugging
#  - --color=yes       : enable colored output in supported terminals
# Coverage options require pytest-cov to be installed
#  - --cov=.           : measure coverage for the repo root
#  - --cov-report=term-missing:skip-covered  : show missing lines in terminal (skip files fully covered)
#  - --cov-report=xml:coverage.xml           : write XML coverage file for CI tools
addopts = -v -r a --maxfail=1 --showlocals --color=yes --cov=src --cov-branch --cov-report=term-missing:skip-covered --cov-report=xml:coverage.xml --ignore=kokoro

markers =
    integration: slow integration tests